<!DOCTYPE html>
<html>
<head>
    <title>kumo</title>
    <meta charset="UTF-8">
    <script type="text/javascript" src="js/oridomi.min.js"></script>
    <script type="text/javascript" src="https://cdn.rawgit.com/jonobr1/two.js/master/build/two.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script type="text/javascript" src="js/hello.js"></script>
	<script src="https://apis.google.com/js/client.js?onload=start"></script>
<!--    <script type="text/javascript" src="https://cdn.rawgit.com/DmitryBaranovskiy/raphael/master/raphael.min.js"></script>-->
    
</head>
    <div id="authorize-div" style="display: none">
      <span>Authorize access to Gmail API</span>
      <!--Button for the user to click to initiate auth sequence -->
      <button id="authorize-button" onclick="handleAuthClick(event)">
        Authorize Your Account
      </button>
    </div>
<body bgcolor="#8ac5ff">
    <div id="draft">
        <img src="media/papers.png" alt="" style="width:60%; height:90%;">
        <textarea id="draft_text" style="width:40%; height:60%; left: 5%; top: 5%; position: absolute;"></textarea>
    </div>
    <div id="oridomi">
        <img src="media/papers.png" alt="" style="width:60%; height:90%;">
        <textarea style="width:40%; height:60%; left: 5%; top: 5%; position: absolute;"></textarea>
    </div>
    <button onclick="fold()">Send</button>
    <div style="display:none;" id="envelope_div">
        <img id="envelope" id = "img" src="media/envelope_front.png" alt="">
    </div>
    <div style="display:none;" id="text">
        <p>To: <input type="text"></p>
        <p>From: <input type="text"></p>
    </div>
    <button onclick="unfold()">Unfold</button>
    <script>
        var temp;
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById("oridomi").style.display="none";
            if (!OriDomi.isSupported) {
              alert("OriDomi is not supposed on your browser.");
              return;
            }
            return;
        });
        function fold() {
//            var text = document.getElementById("draft_text").innerHTML;
            document.getElementById("draft").style.display="none";
            
            document.getElementById("oridomi").style.display = "block";
//            document.getElementById("oridomi_text").innerHTML = text;
            
            temp = new OriDomi('#oridomi', {
                    hPanels: 3,
                    ripple: true
                  });
            temp.setRipple().stairs(50, 'bottom');
            
            document.getElementById("envelope_div").style.display = "inline";
//            document.getElementById("oridomi").style.display="none";

            var left = $("#envelope").offset().left;
            var top = $("#envelope").offset().top;
            var width = $("#envelope").height()/4;
            left += width;
            var height = $("#envelope").height()/2;
            top += height;
            document.getElementById("text").style.left = left + "px";
            document.getElementById("text").style.top = top+"px";
            document.getElementById("text").style.position = "absolute";
            document.getElementById("text").style.display="block";
        }
        function unfold() {
            document.getElementById("draft").style.display="inline";
            document.getElementById("oridomi").style.display = "none";
        }
    </script>
</body>
</html>